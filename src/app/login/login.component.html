<h1>{{'Logowanie' | translate}}</h1>
<div class="col-md-8 col-md-offset-2">
  <div *ngIf="errorFlag" id="error" class="alert alert-danger">
    <a (click)="hideErrorr()" href="#" class="close" data-dismiss="alert" aria-label="close">&times;</a>
    {{errorMessage}}
  </div>

  <div *ngIf="successFlag"  class="alert alert-success alert-dismissable">
    <a (click)="hideSuccess()" href="#" class="close" data-dismiss="alert" aria-label="close">&times;</a>
    {{successMessage}}
  </div>

  <form #loginForm="ngForm" (ngSubmit)="onSubmit(loginForm.value)">

    <div class="form-group">
      <label for="email" >{{'Email'|translate}}</label>
      <input type="text" #loginRef="ngModel" pattern = "^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$" required class="form-control" id="email" name="email" ngModel/>
      <div *ngIf="loginRef.errors && (loginRef.dirty || loginRef.touched)" class="alert-danger">
        <div [hidden] = "!loginRef.errors.required">
          {{'Podaj email!'|translate}}
        </div>
        <div [hidden] = "!loginRef.errors.pattern">
          {{'Podaj poprawny adres email!'|translate}}
        </div>
      </div>
    </div>

    <div class="form-group">
      <label for="password">{{'Haslo'|translate}}</label>
      <input type="password" #emailRef="ngModel" maxlength="100" required class="form-control" id="password" name="password" ngModel/>
      <div *ngIf="emailRef.errors && (emailRef.dirty || emailRef.touched)" class="alert-danger">
        <div [hidden] = "!emailRef.errors.required">
          {{'Podaj haslo!'|translate}}
        </div>
      </div>
    </div>

    <div class="form-group">
      <button [disabled]=" loading || !loginForm.form.valid" type="submit" class="btn btn-primary">{{'Zaloguj'|translate}}</button>
      <a [routerLink]="['/register']" class="btn btn-link">{{'Zarejestruj sie'|translate}}</a>
      <a [routerLink]="['/resetPassword']" class="btn btn-link">{{'Zapomniales hasla?'|translate}}</a>
    </div>
  </form>

</div>
